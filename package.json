{
  "name": "dify-as-code",
  "displayName": "Dify as Code",
  "description": "Develop Dify apps like writing code: edit locally, version control, sync with one click",
  "version": "0.1.1",
  "publisher": "dify-as-code",
  "icon": "resources/icon.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/your-username/dify-as-code"
  },
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other"
  ],
  "keywords": [
    "dify",
    "workflow",
    "dsl",
    "sync",
    "ai"
  ],
  "activationEvents": [
    "onView:difyAsCode"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "dify-as-code",
          "title": "Dify as Code",
          "icon": "resources/dify-icon.svg"
        }
      ]
    },
    "views": {
      "dify-as-code": [
        {
          "id": "difyAsCode",
          "name": "Dify as Code",
          "contextualTitle": "Dify Applications"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "difyAsCode",
        "contents": "No Dify platform configured yet.\n[Add Platform](command:dify.addPlatform)\nClick the + button above or use the command to add your first Dify platform."
      }
    ],
    "commands": [
      {
        "command": "dify.addPlatform",
        "title": "Add Platform",
        "category": "Dify",
        "icon": "$(add)"
      },
      {
        "command": "dify.editPlatform",
        "title": "Edit Platform",
        "category": "Dify"
      },
      {
        "command": "dify.deletePlatform",
        "title": "Delete Platform",
        "category": "Dify"
      },
      {
        "command": "dify.pullPlatform",
        "title": "Pull Platform Updates",
        "category": "Dify",
        "icon": "$(arrow-down)"
      },
      {
        "command": "dify.addAccount",
        "title": "Add Account",
        "category": "Dify",
        "icon": "$(add)"
      },
      {
        "command": "dify.editAccount",
        "title": "Edit Account",
        "category": "Dify"
      },
      {
        "command": "dify.deleteAccount",
        "title": "Delete Account",
        "category": "Dify"
      },
      {
        "command": "dify.pullAccount",
        "title": "Pull Account Updates",
        "category": "Dify",
        "icon": "$(arrow-down)"
      },
      {
        "command": "dify.pullWorkspace",
        "title": "Pull Workspace Updates",
        "category": "Dify",
        "icon": "$(arrow-down)"
      },
      {
        "command": "dify.openAppConfig",
        "title": "Open App Config",
        "category": "Dify"
      },
      {
        "command": "dify.openInDify",
        "title": "Open in Dify",
        "category": "Dify"
      },
      {
        "command": "dify.pullApp",
        "title": "Pull App Updates",
        "category": "Dify"
      },
      {
        "command": "dify.pushApp",
        "title": "Push to Dify",
        "category": "Dify"
      },
      {
        "command": "dify.copyAsNewApp",
        "title": "Copy as New App",
        "category": "Dify"
      },
      {
        "command": "dify.viewSyncStatus",
        "title": "View Sync Status",
        "category": "Dify"
      },
      {
        "command": "dify.pullAll",
        "title": "Pull All Updates",
        "category": "Dify",
        "icon": "$(arrow-down)"
      },
      {
        "command": "dify.refreshTree",
        "title": "Refresh",
        "category": "Dify",
        "icon": "$(refresh)"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "dify.addPlatform",
          "when": "view == difyAsCode",
          "group": "navigation@1"
        },
        {
          "command": "dify.pullAll",
          "when": "view == difyAsCode",
          "group": "navigation@2"
        },
        {
          "command": "dify.refreshTree",
          "when": "view == difyAsCode",
          "group": "navigation@3"
        }
      ],
      "view/item/context": [
        {
          "command": "dify.addAccount",
          "when": "view == difyAsCode && viewItem == platform",
          "group": "1_create@1"
        },
        {
          "command": "dify.pullPlatform",
          "when": "view == difyAsCode && viewItem == platform",
          "group": "2_sync@1"
        },
        {
          "command": "dify.editPlatform",
          "when": "view == difyAsCode && viewItem == platform",
          "group": "3_edit@1"
        },
        {
          "command": "dify.deletePlatform",
          "when": "view == difyAsCode && viewItem == platform",
          "group": "4_delete@1"
        },
        {
          "command": "dify.pullAccount",
          "when": "view == difyAsCode && viewItem == account",
          "group": "1_sync@1"
        },
        {
          "command": "dify.editAccount",
          "when": "view == difyAsCode && viewItem == account",
          "group": "2_edit@1"
        },
        {
          "command": "dify.deleteAccount",
          "when": "view == difyAsCode && viewItem == account",
          "group": "3_delete@1"
        },
        {
          "command": "dify.pullWorkspace",
          "when": "view == difyAsCode && viewItem == workspace",
          "group": "1_sync@1"
        },
        {
          "command": "dify.openAppConfig",
          "when": "view == difyAsCode && viewItem =~ /^app/",
          "group": "1_open@1"
        },
        {
          "command": "dify.openInDify",
          "when": "view == difyAsCode && viewItem =~ /^app/",
          "group": "1_open@2"
        },
        {
          "command": "dify.pullApp",
          "when": "view == difyAsCode && viewItem =~ /^app/",
          "group": "2_sync@1"
        },
        {
          "command": "dify.pushApp",
          "when": "view == difyAsCode && viewItem == app-editable",
          "group": "2_sync@2"
        },
        {
          "command": "dify.copyAsNewApp",
          "when": "view == difyAsCode && viewItem =~ /^app/",
          "group": "3_copy@1"
        },
        {
          "command": "dify.viewSyncStatus",
          "when": "view == difyAsCode && viewItem =~ /^app/",
          "group": "3_copy@2"
        }
      ],
      "commandPalette": [
        {
          "command": "dify.addPlatform"
        },
        {
          "command": "dify.editPlatform"
        },
        {
          "command": "dify.deletePlatform"
        },
        {
          "command": "dify.pullPlatform"
        },
        {
          "command": "dify.addAccount"
        },
        {
          "command": "dify.editAccount"
        },
        {
          "command": "dify.deleteAccount"
        },
        {
          "command": "dify.pullAccount"
        },
        {
          "command": "dify.pullWorkspace"
        },
        {
          "command": "dify.openAppConfig"
        },
        {
          "command": "dify.openInDify"
        },
        {
          "command": "dify.pullApp"
        },
        {
          "command": "dify.pushApp"
        },
        {
          "command": "dify.copyAsNewApp"
        },
        {
          "command": "dify.viewSyncStatus"
        },
        {
          "command": "dify.pullAll"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run package-extension",
    "compile": "tsc -p ./",
    "compile-dev": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "watch-esbuild": "node esbuild.js --watch",
    "package-extension": "node esbuild.js --production",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "node ./out/test/runTest.js",
    "package": "npm run package-extension && vsce package",
    "publish": "vsce publish"
  },
  "devDependencies": {
    "@types/node": "^20.10.0",
    "@types/vscode": "^1.85.0",
    "@typescript-eslint/eslint-plugin": "^6.13.0",
    "@typescript-eslint/parser": "^6.13.0",
    "@vscode/vsce": "^2.22.0",
    "esbuild": "^0.27.2",
    "eslint": "^8.54.0",
    "typescript": "^5.3.2"
  },
  "dependencies": {
    "axios": "^1.6.2",
    "js-yaml": "^4.1.0"
  }
}
